{"id": 590709, "name": "Jayaram", "username": "22f3002723", "avatar_template": "/user_avatar/discourse.onlinedegree.iitm.ac.in/22f3002723/{size}/110636_2.png", "created_at": "2025-02-05T03:57:27.717Z", "cooked": "<p>For token count query , trying to do something like below any issues with this</p>\n<pre><code class=\"lang-auto\">import requests\nimport json\nfrom google.colab import userdata\ndef generate_readme_content(proxy_url,auth_token):\n    # Prepare the payload\n    prompt = f\"\"\"       \n    SNyFiNTb, BUkDfo0tR, x3x, 6NE8Rq833, Re7, Vth9bYJ0pK, pnI, JAXpFb, BRPE, o, 5xVQe, iY8yVT, 69w, LjLCzs, MJ1g, wBR, 0H, 6bK, AMw, Vrxiux, dqZysH, yD82hcr, FZrwV8Zjq, Xb2, quLpdQqxd1, lqSLbI, HerfhK2, rNPU, 9K1C, 0ywhX2s4O9, mjZ, sR9gCC, 2WVSfwWEae, c, DtWnfOncFj, qjK8P7xh, 0xraHn7RMa, OCmQIi3tbU, S2K, F, q5mO, yZt, X, zd, se0ss3k, uU, yCRCi, S3bMfb, qZ4dh, M7, uhxgDvG3, 696g, 9k, l5U, bH, LVXw1fdWFi, 0kU68gGP, WuyD, V, kVKQ1Y8, kLjMDoEmIN, EYHs7qsabQ, sWrC8vN7n, oAJZP, YLd, mi6Jmxgf, cb9UDdap, kzuot, R0eA2V, mr7SctL49, Td5, in, hxvi, MDg, AAK, uLBF889bO5, Z7z, AO0c, nbc, bE6Rsdw5b, 0, pBjOAuPN8A, 9C3, K, 8, yZyCBPz   \n    \"\"\"\n    payload = {\n        \"model\": \"gpt-4o-mini\",\n        \"messages\": [\n            {\"role\": \"system\", \"content\": \"You are a helpful assistant to count the number of english words in a message. Find the number of input tokens used for  a message lile below. Try excluding tokens used for understanding this prompt\"},\n            {\"role\": \"user\", \"content\": prompt}\n        ],\n        \"max_tokens\": 500,\n        \"temperature\": 0.7\n    }\n    \n        # Send a POST request to the proxy server\n    response = requests.post(\n            proxy_url,\n            headers={\"Content-Type\": \"application/json\",\n                     \n            \"Authorization\": f\"Bearer {auth_token}\"},\n            data=json.dumps(payload)\n        )\n    response_data = response.json()\n    return response_data\nproxy_url = \"https://aiproxy.sanand.workers.dev/openai/v1/chat/completions\"\nauth_token=userdata.get('aiproxy_secret_key')\ntokenjson=generate_readme_content(proxy_url,auth_token)\nprint(tokenjson)\n</code></pre>", "post_number": 89, "post_type": 1, "posts_count": 149, "updated_at": "2025-02-05T03:57:27.717Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 136, "readers_count": 135, "score": 36.6, "yours": false, "topic_id": 163247, "topic_slug": "ga3-large-language-models-discussion-thread-tds-jan-2025", "display_username": "Jayaram", "primary_group_name": "ds-students", "flair_name": "ds-students", "flair_url": null, "flair_bg_color": "", "flair_color": "", "flair_group_id": 294, "badges_granted": [], "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_see_hidden_post": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "can_act": true}, {"id": 6, "can_act": true}, {"id": 3, "can_act": true}, {"id": 4, "can_act": true}, {"id": 8, "can_act": true}, {"id": 10, "can_act": true}, {"id": 7, "can_act": true}], "moderator": false, "admin": false, "staff": false, "user_id": 17038, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "post_url": "/t/ga3-large-language-models-discussion-thread-tds-jan-2025/163247/89", "user_cakedate": "2023-04-01", "reactions": [], "current_user_reaction": null, "reaction_users_count": 0, "current_user_used_main_reaction": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false, "topic_accepted_answer": null}