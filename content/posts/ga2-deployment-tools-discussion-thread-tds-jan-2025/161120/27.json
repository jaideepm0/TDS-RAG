{"id": 579910, "name": "Mishkat Chougule", "username": "23F300327", "avatar_template": "/user_avatar/discourse.onlinedegree.iitm.ac.in/23f300327/{size}/91361_2.png", "created_at": "2025-01-15T07:10:33.142Z", "cooked": "<pre><code class=\"lang-auto\">from fastapi import FastAPI, Query\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom typing import List, Optional\nimport csv\n\napp = FastAPI()\n\n# Enable CORS\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],  # Allow all origins\n    allow_credentials=True,\n    allow_methods=[\"*\"],  # Allow all methods\n    allow_headers=[\"*\"],  # Allow all headers\n)\n\n# Load student data from the specified CSV file\nstudents = []\nwith open('/Users/mish/Downloads/q-fastapi.csv', mode='r') as file:\n    reader = csv.DictReader(file)\n    for row in reader:\n        students.append({\n            \"studentId\": int(row[\"studentId\"]),\n            \"class\": row[\"class\"]\n        })\n\n@app.get(\"/api\")\nasync def get_students(class: Optional[List[str]] = Query(None)): \n    \"\"\"\n    Retrieves a list of students, optionally filtered by class.\n\n    Args:\n        class: A list of class names to filter by. If None, returns all students.\n\n    Returns:\n        A dictionary containing a list of students.\n    \"\"\"\n    print(f\"Requested classes: {class}\")  # Debugging line\n    if class:\n        filtered_students = [student for student in students if student[\"class\"] in class]\n    else:\n        filtered_students = students\n    print(f\"Filtered students: {filtered_students}\")  # Debugging line\n    return {\"students\": filtered_students}\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"127.0.0.1\", port=8000)\n\n</code></pre>\n<p><a class=\"mention\" href=\"/u/jivraj\">@Jivraj</a> this is the code I\u2019m executing which is not getting accepted in the answer box the last time I modified the code it got accepted and I also saved the answer but when I reopened the page till now it is not getting accepted</p>", "post_number": 27, "post_type": 1, "posts_count": 170, "updated_at": "2025-01-15T13:43:27.194Z", "reply_count": 1, "reply_to_post_number": 25, "quote_count": 0, "incoming_link_count": 13, "reads": 135, "readers_count": 134, "score": 96.6, "yours": false, "topic_id": 161120, "topic_slug": "ga2-deployment-tools-discussion-thread-tds-jan-2025", "display_username": "Mishkat Chougule", "primary_group_name": "ds-students", "flair_name": "ds-students", "flair_url": null, "flair_bg_color": "", "flair_color": "", "flair_group_id": 294, "badges_granted": [], "version": 4, "can_edit": false, "can_delete": false, "can_recover": false, "can_see_hidden_post": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"id": 16094, "username": "carlton", "name": "Carlton D'Silva", "avatar_template": "/user_avatar/discourse.onlinedegree.iitm.ac.in/carlton/{size}/56317_2.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "can_act": true}, {"id": 6, "can_act": true}, {"id": 3, "can_act": true}, {"id": 4, "can_act": true}, {"id": 8, "can_act": true}, {"id": 10, "can_act": true}, {"id": 7, "can_act": true}], "moderator": false, "admin": false, "staff": false, "user_id": 27771, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "post_url": "/t/ga2-deployment-tools-discussion-thread-tds-jan-2025/161120/27", "user_cakedate": "2024-02-20", "user_birthdate": "1904-12-02", "reactions": [], "current_user_reaction": null, "reaction_users_count": 0, "current_user_used_main_reaction": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false, "topic_accepted_answer": null}