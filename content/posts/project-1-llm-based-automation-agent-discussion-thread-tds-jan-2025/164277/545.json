{"id": 595987, "name": "Andrew David", "username": "23f1002382", "avatar_template": "/user_avatar/discourse.onlinedegree.iitm.ac.in/23f1002382/{size}/68945_2.png", "created_at": "2025-02-16T14:06:32.676Z", "cooked": "<p>Nice bro, if its getting 8 you are sorted, probably get more later. But Prompting seems a little less info<br>\nBUT</p>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Structured Outputs</th>\n<th>JSON Mode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Outputs valid JSON</td>\n<td>Yes</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>Adheres to schema</td>\n<td>Yes (see supported schemas)</td>\n<td>No</td>\n</tr>\n<tr>\n<td>Compatible models</td>\n<td>gpt-4o-mini, gpt-4o-2024-08-06, and later</td>\n<td>gpt-3.5-turbo, gpt-4-* and gpt-4o-* models</td>\n</tr>\n<tr>\n<td>Enabling</td>\n<td>response_format: { type: json_schema, json_schema: {strict: true, schema: \u2026} }</td>\n<td>response_format: { type: json_object }</td>\n</tr>\n</tbody>\n</table>\n</div><pre data-code-wrap=\"python\"><code class=\"lang-python\">    try:\n        response = client.chat.completions.create(\n            model=\"gpt-4o-mini\",\n            messages=[{\"role\": \"user\", \"content\": prompt}],\n            temperature=0,\n            response_format={\"type\": \"json_object\"}\n        )\n</code></pre>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/23f2005593/tds/blob/main/app.py#L142\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/23f2005593/tds/blob/main/app.py#L142\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/23f2005593/tds</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/23f2005593/tds/blob/main/app.py#L142\" target=\"_blank\" rel=\"noopener nofollow ugc\">app.py</a></h4>\n\n<div class=\"git-blob-info\">\n  <a href=\"https://github.com/23f2005593/tds/blob/main/app.py#L142\" rel=\"noopener nofollow ugc\"><code>main</code></a>\n</div>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-py\">\n      <ol class=\"start lines\" start=\"132\" style=\"counter-reset: li-counter 131 ;\">\n          <li>prompt = (</li>\n          <li>    f\"The Python code generated for the task '{task}' produced the following error when executed:\\n\"</li>\n          <li>    f\"{error_message}\\n\\n\"</li>\n          <li>    f\"Here is the original code:\\n{original_code_data['code']}\\n\\n\"</li>\n          <li>    \"Please provide a corrected version of the code that fixes the error. Return only a JSON object with:\\n\"</li>\n          <li>    \"- code: the corrected Python code as a string\\n\"</li>\n          <li>    \"- function_name: name of the main function\\n\"</li>\n          <li>    \"- required_libraries: list of required pip packages\\n\\n\"</li>\n          <li>    \"Make sure the code is simple, direct, and error-free this time. And try not to mess it up like before.\"</li>\n          <li>)</li>\n          <li class=\"selected\">try:</li>\n          <li>    response = client.chat.completions.create(</li>\n          <li>        model=\"gpt-4o-mini\",</li>\n          <li>        messages=[{\"role\": \"user\", \"content\": prompt}],</li>\n          <li>        temperature=0,</li>\n          <li>        response_format={\"type\": \"json_object\"}</li>\n          <li>    )</li>\n          <li>except Exception as exc:</li>\n          <li>    logger.error(\"Error connecting to OpenAI API for auto-fix: %s\", exc)</li>\n          <li>    raise HTTPException(status_code=500, detail=\"Connection error during auto-fix. Maybe it's time to admit defeat?\")</li>\n          <li></li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>you are taking a chance on that format</p>", "post_number": 545, "post_type": 1, "posts_count": 614, "updated_at": "2025-02-16T14:06:32.676Z", "reply_count": 1, "reply_to_post_number": 521, "quote_count": 0, "incoming_link_count": 1, "reads": 97, "readers_count": 96, "score": 29.0, "yours": false, "topic_id": 164277, "topic_slug": "project-1-llm-based-automation-agent-discussion-thread-tds-jan-2025", "display_username": "Andrew David", "primary_group_name": "ds-students", "flair_name": "ds-students", "flair_url": null, "flair_bg_color": "", "flair_color": "", "flair_group_id": 294, "badges_granted": [], "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_see_hidden_post": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/23f2005593/tds/blob/main/app.py#L142", "internal": false, "reflection": false, "title": "tds/app.py at main \u00b7 23f2005593/tds \u00b7 GitHub", "clicks": 0}], "read": true, "user_title": null, "reply_to_user": {"id": 22294, "username": "TheVishal", "name": "Vishal Baraiya", "avatar_template": "/user_avatar/discourse.onlinedegree.iitm.ac.in/thevishal/{size}/110717_2.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "can_act": true}, {"id": 6, "can_act": true}, {"id": 3, "can_act": true}, {"id": 4, "can_act": true}, {"id": 8, "can_act": true}, {"id": 10, "can_act": true}, {"id": 7, "can_act": true}], "moderator": false, "admin": false, "staff": false, "user_id": 18297, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "post_url": "/t/project-1-llm-based-automation-agent-discussion-thread-tds-jan-2025/164277/545", "user_cakedate": "2023-06-05", "user_birthdate": "1904-01-05", "reactions": [], "current_user_reaction": null, "reaction_users_count": 0, "current_user_used_main_reaction": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false, "topic_accepted_answer": null}