{"id": 597701, "name": "Bhashwar Sengupta", "username": "bhashwar_sengupta", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/41988e/{size}.png", "created_at": "2025-02-21T06:16:52.406Z", "cooked": "<p>For Q8, I wrote the following query,</p>\n<pre><code class=\"lang-auto\">SELECT smo.post_id\nFROM social_media as smo\nWHERE smo.timestamp &gt;= '2024-11-15T06:02:28.656Z'\nAND EXISTS (\n   SELECT 1\n   FROM LATERAL (\n       SELECT UNNEST(json_extract(comments, '$[*]'))\n       FROM social_media as sm\n       WHERE sm.post_id = smo.post_id\n       ) AS c(value)\n    WHERE json_extract(c.value, '$.stars.useful')::DOUBLE = 4)\norder by smo.post_id;\n</code></pre>\n<p>What it does is for each post_id, checks the timestamp and then checks the presence of a json object in comments that has 4 stars useful rating for this post_id. Finally returns all the post_id\u2019s in ascending order.</p>\n<p>But it\u2019s giving me an <code>Array length mismatch</code> error. I\u2019m stuck here. Any hints would be helpful. <a class=\"mention\" href=\"/u/jivraj\">@Jivraj</a> <a class=\"mention\" href=\"/u/carlton\">@carlton</a></p>\n<p>P.S. I also noticed that the timestamp given in the question keeps changing with each page reload. But the output from the query stays the same.</p>", "post_number": 71, "post_type": 1, "posts_count": 103, "updated_at": "2025-02-21T06:19:20.694Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 3, "reads": 89, "readers_count": 88, "score": 32.4, "yours": false, "topic_id": 166576, "topic_slug": "ga5-data-preparation-discussion-thread-tds-jan-2025", "display_username": "Bhashwar Sengupta", "primary_group_name": "ds-students", "flair_name": "ds-students", "flair_url": null, "flair_bg_color": "", "flair_color": "", "flair_group_id": 294, "badges_granted": [], "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_see_hidden_post": false, "can_wiki": false, "read": true, "user_title": "", "bookmarked": false, "actions_summary": [{"id": 2, "can_act": true}, {"id": 6, "can_act": true}, {"id": 3, "can_act": true}, {"id": 4, "can_act": true}, {"id": 8, "can_act": true}, {"id": 10, "can_act": true}, {"id": 7, "can_act": true}], "moderator": false, "admin": false, "staff": false, "user_id": 4285, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "post_url": "/t/ga5-data-preparation-discussion-thread-tds-jan-2025/166576/71", "user_cakedate": "2021-05-06", "reactions": [], "current_user_reaction": null, "reaction_users_count": 0, "current_user_used_main_reaction": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false, "topic_accepted_answer": null}