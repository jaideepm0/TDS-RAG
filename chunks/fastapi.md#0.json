{
  "id": "fastapi.md#0",
  "post_urls": [
    "https://tds.s-anand.net/#/fastapi.md",
    "https://tds.s-anand.net/#/../fastapi.md"
  ],
  "content": "## Web Framework: FastAPI\n\n[FastAPI](https://fastapi.tiangolo.com/) is a modern Python web framework for building APIs with automatic interactive documentation. It's fast, easy to use, and designed for building production-ready REST APIs. Here's a minimal FastAPI app, `app.py`:\n\n```python\n# /// script\n# requires-python = \">=3.11\"\n# dependencies = [\n#   \"fastapi\",\n#   \"uvicorn\",\n# ]\n# ///\n\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\nasync def root():\n    return {\"message\": \"Hello!\"} if __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n```\n\nRun this with `uv run app.py`. 1. **Handle errors by raising HTTPException**\n\n   ```python\n   from fastapi import HTTPException\n\n   async def get_item(item_id: int):\n       if not valid_item(item_id):\n           raise HTTPException(\n               status_code=404,\n               detail=f\"Item {item_id} not found\"\n           )\n   ```\n\n2. **Use middleware for logging**\n\n   ```python\n   from fastapi import Request\n   import time\n\n   @app.middleware(\"http\")\n   async def add_timing(request: Request, call_next):\n       start = time.time()\n       response = await call_next(request)\n       response.headers[\"X-Process-Time\"] = str(time.time() - start)\n       return response\n   ```\n\nTools:\n\n- [FastAPI CLI](https://fastapi.tiangolo.com/tutorial/fastapi-cli/): Project scaffolding\n- [Pydantic](https://pydantic-docs.helpmanual.io/): Data validation\n- [SQLModel](https://sqlmodel.tiangolo.com/): SQL databases\n- [FastAPI Users](https://fastapi-users.github.io/): Authentication\n\nWatch this FastAPI Course for Beginners (64 min):\n\n[! [FastAPI Course for Beginners (64 min)](https://i.ytimg.com/vi_webp/tLKKmouUams/sddefault.webp)](https://youtu.be/tLKKmouUams)"
}